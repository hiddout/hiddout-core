(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{556:function(t,e,n){"use strict";n.d(e,"c",function(){return c}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return l});n(204);var o=n(15),r=n(93),a=n(46),c=function(t){return function(e){e({type:o.r});var n=t?"?board=".concat(t):"";return hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"posts").concat(n),{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return Object(a.a)(t.status,e),e({type:o.g,payload:{posts:t.posts}})}).catch(function(t){console.error(t)})}},i=function(t){return function(e){e({type:o.q}),hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"post/").concat(t),{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Object(a.a)(t.status,e),e({type:o.f,payload:{post:t.post}})}).then(function(){return e(u(t))}).catch(function(t){console.error(t)})}},u=function(t){return function(e){return e({type:o.p}),hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"post/").concat(t,"/comments"),{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){return Object(a.a)(t.status,e),e({type:o.e,payload:{comments:t.comments}})}).catch(function(t){console.error(t)})}},l=function(t){return{type:o.o,payload:{level:t}}}},569:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return u});n(204);var o=n(15),r=n(93),a=n(46),c=function(t){return function(e,n){var c=n().auth;return e({type:o.v}),hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"posts"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:c.token},body:JSON.stringify(t)}).then(function(t){return Object(a.a)(t.status,e),e({type:o.m,payload:{cratedPostId:t.insertedId}})}).catch(function(t){console.error(t)})}},i=function(t){return function(e,n){var c=n().auth;return e({type:o.u}),hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"post/").concat(t.postId,"/comments"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:c.token},body:JSON.stringify(t)}).then(function(t){return Object(a.a)(t.status,e),e({type:o.d})}).catch(function(t){console.error(t)})}},u=function(t){return function(e,n){var c=n().auth;return e({type:o.w}),hiddoutViewer.request("".concat(r.a.baseURL).concat(r.a.apiV1,"post/").concat(t.postId,"/react"),{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",authorization:c.token},body:JSON.stringify(t)}).then(function(t){return Object(a.a)(t.status,e),e({type:o.n})}).catch(function(t){console.error(t)})}}},570:function(t,e,n){"use strict";n(52),n(62),n(63),n(204),n(53),n(315),n(64),n(54),n(65),n(66),n(67),n(68),n(69);var o=n(0),r=n.n(o),a=n(550),c=n(540);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){var t,n,o,r,a,c,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var p=arguments.length,f=new Array(p),h=0;h<p;h++)f[h]=arguments[h];return o=this,n=!(r=(t=l(e)).call.apply(t,[this].concat(f)))||"object"!==i(r)&&"function"!=typeof r?s(o):r,a=s(n),u={formData:""},(c="state")in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,n}var n,o,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,r.a.Component),n=e,(o=[{key:"onTextAreaChange",value:function(t,e){var n=this.props.onChange;n&&n(t,e),this.setState({formData:e.value})}},{key:"onClick",value:function(){if(this.state.formData.length){var t=this.props.onClick;t(this.state.formData),this.setState({formData:""})}}},{key:"render",value:function(){var t=this.props,e=t.ButtonText,n=t.disabled;return r.a.createElement(a.a,{reply:!0},r.a.createElement(a.a.TextArea,{value:this.state.formData,onChange:this.onTextAreaChange.bind(this)}),r.a.createElement(c.a,{content:e,labelPosition:"left",icon:"edit",onClick:this.onClick.bind(this),disabled:n,primary:!0}))}}])&&u(n.prototype,o),f&&u(n,f),e}();e.a=f},679:function(t,e,n){"use strict";n.r(e);n(52),n(62),n(63),n(204),n(53),n(64),n(54),n(65),n(66),n(67),n(205),n(317),n(68),n(568),n(69);var o=n(0),r=n.n(o),a=n(686),c=n(684),i=n(588),u=n(589),l=n(540),s=n(563),p=n(576),f=n(687),h=n(564),m=n(556),y=n(569),b=n(112),d=n(28),g=n(570),v=n(15);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=r.a.lazy(function(){return n.e(4).then(n.t.bind(null,598,7))}),k=r.a.lazy(function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,559))}),T=r.a.lazy(function(){return n.e(15).then(n.bind(null,678))}),S=function(t){function e(){var t,n,o,r,a,c,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var u=arguments.length,l=new Array(u),s=0;s<u;s++)l[s]=arguments[s];return o=this,n=!(r=(t=O(e)).call.apply(t,[this].concat(l)))||"object"!==E(r)&&"function"!=typeof r?j(o):r,a=j(n),i={submitting:!1},(c="state")in a?Object.defineProperty(a,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[c]=i,n}var n,o,m;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,r.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.props.getPost(this.props.match.params.id)}},{key:"getPlaceholderContent",value:function(){var t=r.a.createElement(a.a,null,r.a.createElement(a.a.Paragraph,null,r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null)),r.a.createElement(a.a.Paragraph,null,r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null),r.a.createElement(a.a.Line,null)));return r.a.createElement(r.a.Fragment,null,t,r.a.createElement(c.a.Group,null,r.a.createElement(i.a,{as:"h3",dividing:!0},"Comments"),t))}},{key:"reactPost",value:function(t){this.props.auth.isAuth&&this.props.submitReaction({postId:this.props.match.params.id,userId:this.props.account.user,reaction:t})}},{key:"getReactionButtons",value:function(){var t=this,e=this.props.post.currentPost;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{trigger:r.a.createElement(l.a,{color:"green",icon:"arrow alternate circle up outline",label:{basic:!0,color:"green",pointing:"left",content:e.up},onClick:function(){t.reactPost("up")}}),content:"up"}),r.a.createElement(u.a,{trigger:r.a.createElement(l.a,{color:"red",icon:"arrow alternate circle down outline",label:{basic:!0,color:"red",pointing:"left",content:e.down},onClick:function(){t.reactPost("down")}}),content:"down"}),r.a.createElement(u.a,{trigger:r.a.createElement(l.a,{color:"black",icon:"child",label:{basic:!0,color:"black",pointing:"left",content:e.lol},onClick:function(){t.reactPost("lol")}}),content:"lol"})):null}},{key:"getContent",value:function(){var t=this,e=this.props.post,n=e.currentPost,o=e.comments,a=e.replyTo;if(!n)return this.getPlaceholderContent();var c=n.content,u=P;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{textAlign:"left"},"b/",n.board,". Post by ",n.userId),r.a.createElement(i.a,{as:"h1"},n.title),r.a.createElement(s.a,null,r.a.createElement(s.a,{textAlign:"justified",style:{overflowX:"auto"}},r.a.createElement(u,{source:c})),r.a.createElement(p.a,{hidden:!0}),this.getReactionButtons(),r.a.createElement(p.a,null),!!o.length&&!!a&&r.a.createElement(f.a,{floating:!0,color:"yellow",content:"re: @".concat(o[a-1].userId," - ").concat(o[a-1].content)}),this.props.auth.isAuth&&r.a.createElement(g.a,{disabled:this.state.submitting,ButtonText:"Reply",onClick:function(e){var n={replyTo:t.props.post.replyTo,content:e,userId:t.props.account.user,postId:t.props.match.params.id};t.setState({submitting:!0},function(){t.props.submitComment(n).then(function(e){e.type===v.d&&(t.props.getComments(t.props.match.params.id),t.setState({submitting:!1},function(){}))})})}}),r.a.createElement(T,null)))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{showBackBtn:!0}),r.a.createElement(s.a,{textAlign:"left",style:{marginTop:"7em",marginBottom:"3em"}},r.a.createElement(h.a,null,this.getContent())))}}])&&w(n.prototype,o),m&&w(n,m),e}();e.default=Object(b.g)(Object(d.c)(function(t){return{auth:t.auth,account:t.account,post:t.post}},function(t){return{submitComment:function(e){return t(Object(y.a)(e))},submitReaction:function(e){return t(Object(y.c)(e))},getPost:function(e){t(Object(m.b)(e))},getComments:function(e){return t(Object(m.a)(e))}}})(S))}}]);